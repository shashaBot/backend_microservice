<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Microservice</h1>
<p>Dockerized Node.js microservice with JWT auth and protected routes for API.</p>
<h2>Installation</h2>
<ol>
<li><code>git clone https://github.com/shashaBot/backend_microservice</code></li>
<li><code>npm run docker:image</code>. This will create an image called <code>hackerbay_ms</code>.</li>
<li><code>npm run docker:container</code>. This will start a container using the image mapping the ports 8080:8080.</li>
<li>Start using the API on <code>http://localhost:8080</code>.</li>
</ol>
<h2>Docker Hub Image</h2>
<p><code>docker pull shashabot/hackerbay</code></p>
<h2>Development and Testing</h2>
<ol>
<li><code>git clone https://github.com/shashaBot/backend_microservice</code></li>
<li><code>npm install</code></li>
<li><code>npm run test</code></li>
<li><code>npm run start</code> (or <code>npm run dev</code> if you have nodemon installed) to start the server on port 8080 of your machine.</li>
</ol>
<h2>Documentation</h2>
<p>See <a href="https://github.com/shashaBot/backend_microservice/tree/master/out">out</a> directory.</p>
<h2>API Routes</h2>
<h3>Public routes</h3>
<p><code>POST /login</code></p>
<p>Request Object:</p>
<pre class="prettyprint source"><code>{
  username: &quot;user&quot;,
  password: &quot;pass&quot;
}
</code></pre>
<p>Response Object:</p>
<pre class="prettyprint source"><code>{
  success: true,
  token: &quot;....&quot;
}
</code></pre>
<h3>Protected routes</h3>
<p><code>PATCH /api/apply-json-patch</code></p>
<p>Request Object:</p>
<pre class="prettyprint source"><code>{
  doc: {field: &quot;value&quot;},
  patches: [{op: &quot;add&quot;, path: &quot;/anotherField&quot;, value: &quot;addValue&quot;}]
}
</code></pre>
<p>Response Object:</p>
<pre class="prettyprint source"><code>{
  success: true,
  patchedObj: {
    field: &quot;value&quot;,
    anotherField: &quot;addValue&quot;
  }
}
</code></pre>
<p><code>POST /api/create-thumbnail</code></p>
<p>Request Object:</p>
<pre class="prettyprint source"><code>{
  imageUri: &quot;https://placehold.it/100x100.jpg&quot;,
  filename: &quot;testimage&quot;
}
</code></pre>
<p>Response: A binary response with <code>content-type: image/*</code> in headers.</p>
<h3>Notes:</h3>
<ol>
<li>The protected routes must be accessed with an auth header containing token from login route response.</li>
<li>If the auth header is not present wherever required, 401 (Unauthorized) status is returned.</li>
<li>If the request object is malformed (missing fields, etc.), 400 (Bad request) response is returned.</li>
</ol>
<h2>Test and coverage report</h2>
<p>See Coverage folder after running <code>npm run test</code>.</p></article>
    </section>









<section>

<header>
    
        <h2>server.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">This is the entry file for this app.</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/auth/auth-guard.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Authentication Guard</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/auth/jsonwebtoken.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">All jwt functions</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/config/config.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">This file contains all configuration for this app.</div>
        

        


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>jsonwebtoken</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object containing all keys and configurations needed by jwt.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/img-thumbnail/img-thumbnail.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Image thumbnail Request</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani.</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/patch/patch.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">JSON PATCH</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani.</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/routes/api-routes.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Api Routes</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani.</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>src/routes/index.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Public auth route</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Shashwat Gulyani.</li>
        </ul>
    </dd>
    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-src_auth_authGuard.html">src/auth/authGuard</a></li><li><a href="module-src_auth_jsonwebtoken.html">src/auth/jsonwebtoken</a></li><li><a href="module-src_config_config.html">src/config/config</a></li><li><a href="module-src_imgThumbnail_imgThumbnail.html">src/imgThumbnail/imgThumbnail</a></li><li><a href="module-src_patch_patch.html">src/patch/patch</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Tue Jun 25 2019 13:35:11 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>